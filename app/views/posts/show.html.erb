<div class="container">
  <h1 class="my-4"><%= @post.title %></h1>
  <p class="text-muted"><small>By <%= @post.user.email %>, <%= time_ago_in_words(@post.created_at) %> ago</small></p>
  <p><%= @post.content %></p>

  <hr>

  <h3>Comments</h3>
  <div class="mb-3">
    <% @post.comments.each do |comment| %>
      <p><strong><%= comment.user ? comment.user.email : "Anonymous" %>:</strong> <%= comment.content %></p>
    <% end %>
  </div>

  <%= form_with(model: [@post, Comment.new], local: true) do |form| %>
    <div class="mb-3">
      <%= form.text_area :content, rows: 2, class: "form-control", placeholder: "Add a comment..." %>
    </div>
    <%= form.submit "Post Comment", class: "btn btn-secondary" %>
  <% end %>
</div>
